# Entity crud APIs include: Medicine, Advice, Tests
# Entities are simple objects containing a name and description
register:
  put:
    tags:
      - register
      - entity
    parameters:
      - name: info
        in: body
        schema:
          type: object
          required:
            - data
          properties:
            data:
              required:
                - name
              $ref: '#/definitions/entity'
            created_by:
              type: integer
              description: User ID who is calling this data.
    responses:
      200:
        description: id of registered data
        schema:
          $ref: './definitions.yml#/passed_reg_info'
      default:
        description: Error Response
        schema:
          $ref: './definitions.yml#/error'

update:
  post:
    tags:
      - update
      - entity
    parameters:
      - name: info
        in: body
        schema:
          required:
            - id
          $ref: '#/definitions/entity'
    responses:
      200:
        description: Success
      default:
        description: Error Response
        schema:
          $ref: './definitions.yml#/error'

find:
  get:
    tags:
      - read
      - entity
    description: Find matches, in case of no param all data will be fetched
    parameters:
      - name: name_containing
        in: query
        description: Name containing this string
        type: string
      - name: id
        in: query
        description: System id of resource
        type: integer
      - name: page
        in: query
        type: integer
        default: 1
      - name: page_size
        in: query
        type: integer
        default: 10
    responses:
      200:
        description: List of matched entries
        schema:
          type: object
          properties:
            data:
              type: array
              items:
                $ref: './entity_crud_api.yml#/definitions/entity'
      default:
        description: Error Response
        schema:
          $ref: './definitions.yml#/error'
remove:
  delete:
    tags:
      - remove
      - entity
    parameters:
      - name: id
        in: query
        type: integer
        required: true
    responses:
      200:
      default:
        description: Error Response
        schema:
          $ref: './definitions.yml#/error'
      
definitions:
  entity:
    type: object
    properties:
      id:
        type: integer
      name:
        type: string
      description:
        type: string  